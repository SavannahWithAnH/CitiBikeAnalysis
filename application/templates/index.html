<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Automaker Stock Price Analysis Post Tesla IPO</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /> 
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"  />

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
        
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
        crossorigin=""></script> -->

    <script src="{{ url_for('static', filename='js/leaflet-timeline-slider.js') }}"></script>
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12 jumbotron text-center">
                <h2>Automanufacturer stock price following the IPO of Tesla (2012-2022)</h2>
                <p>Explore the interactive charts below to understand the impact of Tesla's IPO on other automakers' stock prices</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 custom-height">
                <div id="map" style="height: 500px;"></div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-2">
                <div class="well">
                    <h5>Select Automaker:</h5>
                    <select id="selDataset" onchange="optionChanged(this.value)"></select>
                </div>
            </div>

            <div class="col-md-10">
                <div id="line"></div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div id="bar"></div>
            </div>
        </div>
    </div>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/infoMap.js')}}"></script>
    <script src="{{ url_for('static', filename='js/automakers.js') }}"></script>

    <script>
        var map = L.map('map').setView([51.505, -0.09], 13);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);

        L.control.timelineSlider({
            timelineItems: ["Today", "Tomorrow", "Next Week"],
            changeMap: function({label, value, map}) {
                console.log("Changed time to:", label);
                // Add your map change code here
            },
        }).addTo(map);
    </script>
</body>
</html>
